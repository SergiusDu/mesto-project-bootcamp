(()=>{"use strict";function e(e,t,o){const a=document.querySelector(e).content.cloneNode(!0),n=document.querySelector(t);let r;switch(o){case"append":n.append(a),r=n.lastElementChild;break;case"prepend":n.prepend(a),r=n.firstElementChild}return r}const t=function(t,o){const a=e(".card__template",".gallery__cards","prepend"),n=a.querySelector(".card__image"),r=a.querySelector(".card__title");n.src=o,n.alt=t,r.textContent=t},o=e(".popup__template_for-edit-profile",".page","append");o.classList.add("popup_for-profile");const a=o.querySelector(".popup__name-input"),n=o.querySelector(".popup__profession-input"),r=document.querySelector(".profile__name"),c=document.querySelector(".profile__profession"),p=function(e){e===o&&(a.value=r.textContent,n.value=c.textContent),e.classList.add("popup_opened")},i=function(e){e.classList.remove("popup_opened")},s=e(".popup__template_for_opening_image",".page","append"),l=e(".popup__template_for-adding-place",".page","append");var u,d,f;!function(){const e=o.querySelector(".popup__close-btn"),t=o.querySelector(".popup__save-btn");window.addEventListener("keydown",(e=>{"Escape"===e.key&&i(o)})),o.addEventListener("click",(p=>{switch(p.stopPropagation(),p.preventDefault(),p.target){case o:case e:i(o);break;case t:r.textContent=a.value,c.textContent=n.value,i(o)}}))}(),u=document.querySelector(".profile"),d=u.querySelector(".profile__edit-btn"),f=u.querySelector(".profile__add-btn"),u.addEventListener("click",(function(e){switch(e.preventDefault(),e.stopPropagation(),e.target){case d:p(o);break;case f:p(l)}})),function(){const e=s.querySelector(".popup__close-btn");window.addEventListener("keydown",(e=>{"Escape"===e.key&&i(s)})),s.addEventListener("click",(t=>{switch(t.target){case s:case e:i(s)}}))}(),function(){const e=l.querySelector(".popup__close-btn"),o=l.querySelector(".popup__save-btn"),a=l.querySelector(".popup__name-input"),n=l.querySelector(".popup__profession-input");l.addEventListener("click",(r=>{switch(r.preventDefault(),r.stopPropagation(),r.target){case l:case e:i(l);break;case o:t(a.value,n.value),i(l)}}))}(),document.querySelector(".gallery__cards").addEventListener("click",(e=>{const t=e.target,o=t.classList;o.forEach((a=>{switch(a){case"card__image":(function(e,t){const o=s.querySelector(".popup__image");o.src=e,o.alt=t,s.querySelector(".popup__image-caption").textContent=t})(t.src,t.closest(".card").querySelector(".card__image-caption").textContent),p(s);break;case"card__delete-btn":e.target.closest(".card").remove();break;case"card__like-btn":o.toggle("card__like-btn_checked")}}))})),[{name:"Джошуа-Три",link:"https://images.unsplash.com/photo-1577915109618-275b946b9687?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"},{name:"Йосимити",link:"https://images.unsplash.com/photo-1472396961693-142e6e269027?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=704&q=80"},{name:"Биг-Сур",link:"https://images.unsplash.com/photo-1519335337423-a3357c2cd12e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1674&q=80"},{name:"Сан-Франциско",link:"https://images.unsplash.com/photo-1471306224500-6d0d218be372?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"},{name:"Золотые ворота",link:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2232&q=80"},{name:"Вудбридж",link:"https://images.unsplash.com/photo-1677793225529-1f089ed52792?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2072&q=80"}].forEach((e=>{t(e.name,e.link)}))})();