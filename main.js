(()=>{"use strict";var e,t,o,r,n,a,c=function(e,t){var o,r,n=(o=document.querySelector(".card__template").content.cloneNode(!0),(r=document.querySelector(".gallery__cards")).prepend(o),r.firstElementChild),a=n.querySelector(".card__image"),c=n.querySelector(".card__title");a.src=t,a.alt=e,c.textContent=e},i=function(e){return e.some((function(e){return!e.validity.valid}))},u=function(e,t,o){i(e)?(t.classList.add(o),t.disabled=!0):(t.classList.remove(o),t.disabled=!1)},l=document.querySelector(".popup_for-editing-profile"),p=l.querySelector(".popup__name-input"),s=l.querySelector(".popup__profession-input"),d=document.querySelector(".profile__name"),f=document.querySelector(".profile__profession"),_=function(){d.textContent=p.value,f.textContent=s.value},m=function(e){e===l&&(p.value=d.textContent,s.value=f.textContent),e.classList.remove("popup_state_closed"),e.classList.add("popup_state_opened"),b()},y=function(e){e.classList.add("popup_state_closed"),e.classList.remove("popup_state_opened")},v=document.querySelector(".popup_for-image"),b=function(){window.addEventListener("keydown",x)},x=function e(t){var o=document.querySelector(".popup_state_opened");"Escape"===t.key&&o&&(y(o),window.removeEventListener("keydown",e))},w=document.querySelector(".popup_for-adding-place");e=l.querySelector(".popup__close-btn"),t=l.querySelector(".popup__button"),window.addEventListener("keydown",(function(e){"Enter"===e.key&&(i([p,s])||(_(),y(l)))})),l.addEventListener("click",(function(o){switch(o.stopPropagation(),o.preventDefault(),o.target){case l:case e:y(l);break;case t:_(),y(l)}})),o=document.querySelector(".profile"),r=o.querySelector(".profile__edit-btn"),n=o.querySelector(".profile__add-btn"),o.addEventListener("click",(function(e){switch(e.preventDefault(),e.stopPropagation(),e.target){case r:m(l);break;case n:m(w)}})),function(){var e=v.querySelector(".popup__close-btn");b(v),v.addEventListener("click",(function(t){switch(t.target){case v:case e:y(v)}}))}(),function(){var e=w.querySelector(".popup__close-btn"),t=w.querySelector(".popup__button"),o=w.querySelector(".popup__place-name-input"),r=w.querySelector(".popup__place-url-input");w.addEventListener("click",(function(n){switch(n.preventDefault(),n.stopPropagation(),n.target){case w:case e:y(w);break;case t:c(o.value,r.value),y(w)}})),window.addEventListener("keydown",(function(e){"Enter"===e.key&&(i([o,r])||(c(o.value,r.value),y(w)))}))}(),document.querySelector(".gallery__cards").addEventListener("click",(function(e){var t=e.target,o=t.classList;o.forEach((function(r){switch(r){case"card__image":(function(e,t){var o=v.querySelector(".popup__image");o.src=e,o.alt=t,v.querySelector(".popup__image-caption").textContent=t})(t.src,t.closest(".card").querySelector(".card__image-caption").textContent),m(v);break;case"card__delete-btn":e.target.closest(".card").remove();break;case"card__like-btn":o.toggle("card__like-btn_checked")}}))})),a={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},document.querySelectorAll(a.formSelector).forEach((function(e){!function(e,t,o,r,n,a){var c=Array.from(e.querySelectorAll(t)),i=e.querySelector(o);u(c,i,r),c.forEach((function(t){t.addEventListener("input",(function(o){!function(e,t,o,r){t.validity.valid?function(e,t,o,r){var n=e.querySelector(".".concat(t.id,"-error"));n.classList.remove(r),t.classList.remove(o),n.textContent=""}(e,t,o,o):function(e,t,o,r,n){var a=e.querySelector(".".concat(t.id,"-error"));a.textContent=o,a.classList.add(n),t.classList.add(r)}(e,t,t.validationMessage,o,r)}(e,t,n,a),u(c,i,r)}))}))}(e,a.inputSelector,a.submitButtonSelector,a.inactiveButtonClass,a.inputErrorClass,a.errorClass)})),[{name:"Джошуа-Три",link:"https://images.unsplash.com/photo-1577915109618-275b946b9687?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"},{name:"Йосимити",link:"https://images.unsplash.com/photo-1472396961693-142e6e269027?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=704&q=80"},{name:"Биг-Сур",link:"https://images.unsplash.com/photo-1519335337423-a3357c2cd12e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1674&q=80"},{name:"Сан-Франциско",link:"https://images.unsplash.com/photo-1471306224500-6d0d218be372?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"},{name:"Золотые ворота",link:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2232&q=80"},{name:"Вудбридж",link:"https://images.unsplash.com/photo-1677793225529-1f089ed52792?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2072&q=80"}].forEach((function(e){c(e.name,e.link)}))})();
//# sourceMappingURL=main.js.map